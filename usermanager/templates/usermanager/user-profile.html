{% extends 'main.html' %}
{% load static %}

{% block title %}Profile – Forum{% endblock title %}

{% block content %}
<div class="profile-container">
<div>
<h1>{{ profile_user.username }}</h1>
   {% if profile_user.profile.pfp %}
   <img src="{{ profile_user.profile.pfp.url }}" alt="{{ profile_user.username }}’s pfp">
   {% else %}
   <img src="{% static 'images/default-pfp.png' %}" alt="Default pfp">
   {% endif %}
<p>Joined on {{ profile_user.date_joined|date:"F j, Y" }}</p>
<p><strong>Followers:</strong> {{ followers_count }}</p>
{% if can_send_request %}
  <a href="{% url 'usermanager:send-req' profile_user.id %}">
    Send Request
  </a>
{% elif pending_request %}
  <p>Pending request</p>
{% elif is_following %}
  <p>Following</p>
{% elif rejected_request %}
  <a href="{% url 'usermanager:send-req' profile_user.id %}">
    Send Request
  </a>
{% endif %}
</div>
<div>
<h2>Posts by {{ profile_user.username }}</h2>
<ul>
  {% for room in rooms %}
    <li>
      <a href="{% url 'base:room' room.id %}">
        {{ room.name }}
      </a>
    </li>
  {% empty %}
    <li>No posts yet.</li>
  {% endfor %}
</ul>
</div>
</div>
{% endblock %}